<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finance - Dfm Media</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-dark: #1a1814;
            --primary-accent: #D4AF37;
            --secondary-dark: #2d2b24;
            --light-bg: #F8F5F0;
            --card-bg: #ffffff;
            --text-primary: #1a1814;
            --text-secondary: #333333;
            --border-light: #e5e7eb;
        }
        
        [data-theme="dark"] {
            --light-bg: #121212;
            --card-bg: #1a1a1a;
            --text-primary: #D4AF37;
            --text-secondary: #ffffff;
            --border-light: #333333;
        }
        
        * {
            transition: all 0.3s ease;
        }
        
        body { 
            font-family: 'Inter', sans-serif; 
            background: var(--light-bg);
            color: var(--text-secondary);
            line-height: 1.7;
        }
        
        .theme-toggle {
            position: relative;
            width: 50px;
            height: 26px;
            background: var(--secondary-dark);
            border-radius: 50px;
            cursor: pointer;
            display: flex;
            align-items: center;
            padding: 3px;
        }
        
        .theme-toggle-handle {
            position: absolute;
            width: 20px;
            height: 20px;
            background: var(--primary-accent);
            border-radius: 50%;
            transition: all 0.3s ease;
        }
        
        [data-theme="dark"] .theme-toggle-handle {
            transform: translateX(24px);
        }
        
        .theme-toggle i {
            font-size: 12px;
            z-index: 1;
            color: var(--primary-dark);
        }
        
        .theme-toggle .fa-sun {
            margin-right: auto;
            padding-left: 4px;
        }
        
        .theme-toggle .fa-moon {
            margin-left: auto;
            padding-right: 4px;
        }
        
        header { 
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--secondary-dark) 100%);
            color: white;
            box-shadow: 0 4px 32px rgba(26, 24, 20, 0.3);
        }
        
        header .navbar-brand { 
            font-weight: 800;
            font-size: 2rem;
            letter-spacing: -0.025em;
            background: linear-gradient(90deg, var(--primary-accent), #fff 80%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .Logo {
            border-radius: 50%;
            object-fit: cover;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            padding-left: 5px;
            padding-right: 5px;
        }
        
        .navbar-nav .nav-link {
            position: relative;
            margin: 0 8px;
            font-weight: 500;
            font-size: 0.95rem;
            padding: 12px 16px !important;
            border-radius: 10px;
            color: rgba(255, 255, 255, 0.8) !important;
        }
        
        .navbar-nav .nav-link:hover,
        .navbar-nav .nav-link.active {
            background: rgba(212, 175, 55, 0.2);
            color: var(--primary-accent) !important;
        }
        
        .breaking-news { 
            padding: 8px 0;
            overflow: hidden;
            position: relative;
            background: linear-gradient(270deg, var(--primary-accent), #f8e14d, var(--primary-accent));
            background-size: 200% 200%;
            animation: gradientShift 4s ease infinite;
            color: var(--primary-dark); 
            padding: 16px 0;
            overflow: hidden;
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .marquee-container {
            overflow: hidden;
            flex: 1;
        }
        
        .marquee {
            display: inline-block;
            padding-left: 100%;
            animation: marquee 20s linear infinite;
            font-weight: 700;
            position: relative;
            z-index: 1;
            font-size: 0.85rem;
            white-space: nowrap;
            color: var(--primary-dark);
        }
        
        @keyframes marquee {
            0%   { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
        
        .news-card { 
            border: none; 
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            background: var(--card-bg);
            color: var(--text-secondary);
            transition: transform 0.3s ease;
        }
        
        .news-card:hover { 
            transform: translateY(-8px); 
        }
        
        .news-card img { 
            height: 220px; 
            object-fit: cover;
        }
        
        .news-card .card-title { 
            color: var(--text-primary);
            font-weight: 700;
            font-size: 1.1rem;
            line-height: 1.4;
        }
        
        .section-header {
            position: relative;
            margin-bottom: 40px;
            padding-bottom: 16px;
            font-weight: 800;
            font-size: 1.75rem;
            color: var(--text-primary);
        }
        
        .section-header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 80px;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-accent), rgba(212, 175, 55, 0.3));
            border-radius: 2px;
        }
        
        .stat-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s ease;
            border: 1px solid var(--border-light);
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--primary-accent);
            margin: 10px 0;
        }
        
        .stat-label {
            font-size: 1rem;
            color: var(--text-secondary);
        }
        
        .market-trend {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding: 15px;
            background: var(--card-bg);
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }
        
        .trend-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            background: rgba(212, 175, 55, 0.1);
            color: var(--primary-accent);
        }
        
        .trend-info {
            flex-grow: 1;
        }
        
        .trend-title {
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--text-primary);
        }
        
        .trend-value {
            font-weight: 700;
        }
        
        .trend-value.positive {
            color: #28a745;
        }
        
        .trend-value.negative {
            color: #dc3545;
        }
        
        .currency-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .currency-table th, .currency-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid var(--border-light);
        }
        
        .currency-table th {
            background: rgba(212, 175, 55, 0.1);
            color: var(--text-primary);
            font-weight: 600;
        }
        
        .currency-table tr:hover {
            background: rgba(212, 175, 55, 0.05);
        }
        
        .change-positive {
            color: #28a745;
            font-weight: 600;
        }
        
        .change-negative {
            color: #dc3545;
            font-weight: 600;
        }
        
        .bank-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s ease;
        }
        
        .bank-card:hover {
            transform: translateY(-5px);
        }
        
        .bank-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .bank-logo {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            background: var(--primary-accent);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            color: var(--primary-dark);
            font-weight: 700;
        }
        
        .bank-name {
            font-weight: 700;
            color: var(--text-primary);
            margin: 0;
        }
        
        .bank-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }
        
        .bank-detail {
            display: flex;
            flex-direction: column;
        }
        
        .detail-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 5px;
        }
        
        .detail-value {
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .finance-tabs {
            background: var(--card-bg);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            margin-bottom: 40px;
        }
        
        .finance-tab {
            padding: 20px;
            text-align: center;
            cursor: pointer;
            font-weight: 600;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }
        
        .finance-tab:hover, .finance-tab.active {
            border-bottom: 3px solid var(--primary-accent);
            background: rgba(212, 175, 55, 0.1);
        }
        
        .finance-content {
            display: none;
            padding: 30px;
            background: var(--card-bg);
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            margin-bottom: 40px;
        }
        
        .finance-content.active {
            display: block;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        footer { 
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--secondary-dark) 100%);
            color: var(--primary-accent);
            padding: 50px 0 30px;
        }
        
        .social-icons a {
            color: var(--primary-accent) !important;
            font-size: 1.6rem;
            margin: 0 10px;
            transition: color 0.3s, text-shadow 0.3s;
        }
        
        .social-icons a:hover {
            color: #fff200 !important;
            text-shadow: 0 0 16px #fff200;
        }
        
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid #f3f3f3;
            border-top: 2px solid var(--primary-accent);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .data-loading {
            opacity: 0.6;
            pointer-events: none;
        }
        
        @media (max-width: 768px) {
            .finance-tabs {
                display: flex;
                flex-wrap: nowrap;
                overflow-x: auto;
            }
            
            .finance-tab {
                flex: 0 0 auto;
                white-space: nowrap;
            }
            
            .bank-details {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="sticky-top">
        <nav class="navbar navbar-expand-lg navbar-dark">
            <div class="container">
                <a class="navbar-brand" href="#">
                    <img class="Logo" src="Logo.png" alt="DFM Media Logo" width="70" height="70" class="d-inline-block align-text-top me-2">
                    <i class="fas fa-microphone-alt me-2"></i>DFM MEDIA
                </a>
                
                <div class="d-flex align-items-center">
                    <!-- Theme Toggle Button -->
                    <div class="theme-toggle" id="themeToggle">
                        <i class="fas fa-sun"></i>
                        <i class="fas fa-moon"></i>
                        <div class="theme-toggle-handle"></div>
                    </div>
                    
                    <button class="navbar-toggler ms-2" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
                
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item"><a class="nav-link" href="index.html"><i class="fas fa-home me-1"></i> Home</a></li>
                        <li class="nav-item"><a class="nav-link" href="emmsion.html"><i class="fas fa-broadcast-tower me-1"></i> Emission</a></li>
                        <li class="nav-item"><a class="nav-link" href="economy.html"><i class="fas fa-chart-line me-1"></i> Economy</a></li>
                        <li class="nav-item"><a class="nav-link active" href="finance.html"><i class="fas fa-coins me-1"></i> Finance</a></li>
                        <li class="nav-item"><a class="nav-link" href="articles.html"><i class="fas fa-newspaper me-1"></i> Articles</a></li>
                        <li class="nav-item"><a class="nav-link" href="Actuality.html"><i class="fas fa-bullhorn me-1"></i> Actuality</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <!-- Breaking News Ticker -->
    <div class="breaking-news">
        <div class="container d-flex align-items-center">
            <span><i class="fas fa-bolt me-2"></i>FINANCE NEWS</span>
            <div class="marquee-container w-100">
                <div class="marquee" id="breakingNewsTicker">
                    Loading financial news...
                </div>
            </div>
        </div>
    </div>

    <!-- Finance Hero Section -->
    <section class="finance-hero" style="background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80'); background-size: cover; background-position: center; padding: 100px 0; color: white; text-align: center; margin-bottom: 50px;">
        <div class="container">
            <h1 class="display-4 fw-bold mb-3">Finance</h1>
            <p class="lead">Real-time market insights, banking activities, and financial statistics</p>
        </div>
    </section>

    <!-- Main Content -->
    <main class="container my-5">
        <!-- Finance Tabs -->
        <div class="finance-tabs d-flex justify-content-around">
            <div class="finance-tab active" data-tab="finance">Financial Markets</div>
            <div class="finance-tab" data-tab="budget">National Budget</div>
            <div class="finance-tab" data-tab="bank-projects">Banking Sector</div>
            <div class="finance-tab" data-tab="statistics">Statistics</div>
        </div>

        <!-- Financial Markets Content -->
        <div class="finance-content active" id="finance-content">
            <h2 class="section-header">Financial Markets</h2>
            
            <!-- Real-time Statistics -->
            <div class="stats-grid">
                <div class="stat-card">
                    <i class="fas fa-chart-line fa-2x text-warning mb-2"></i>
                    <div class="stat-value" id="stock-market-growth">--</div>
                    <div class="stat-label">Stock Market Growth</div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-percentage fa-2x text-warning mb-2"></i>
                    <div class="stat-value" id="interest-rate">--</div>
                    <div class="stat-label">Interest Rate</div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-exchange-alt fa-2x text-warning mb-2"></i>
                    <div class="stat-value" id="usd-xaf">--</div>
                    <div class="stat-label">USD to XAF</div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-hand-holding-usd fa-2x text-warning mb-2"></i>
                    <div class="stat-value" id="credit-growth">--</div>
                    <div class="stat-label">Credit Growth</div>
                </div>
            </div>
            
            <!-- Market Trends -->
            <h3 class="mb-4">Market Trends</h3>
            <div id="market-trends-container">
                <div class="text-center py-4">
                    <div class="loading-spinner"></div>
                    <p class="mt-2">Loading market trends...</p>
                </div>
            </div>
            
            <!-- Currency Exchange Rates -->
            <h3 class="my-4">Currency Exchange Rates</h3>
            <div class="card news-card">
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="currency-table">
                            <thead>
                                <tr>
                                    <th>Currency</th>
                                    <th>Code</th>
                                    <th>Value in XAF</th>
                                    <th>Change</th>
                                </tr>
                            </thead>
                            <tbody id="currency-rates-body">
                                <tr>
                                    <td colspan="4" class="text-center py-4">
                                        <div class="loading-spinner"></div>
                                        Loading currency rates...
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <!-- Upcoming Financing Projects -->
            <h3 class="my-4">Upcoming Financing Projects</h3>
            <div class="row" id="upcoming-projects-container">
                <div class="col-md-6">
                    <div class="card news-card h-100">
                        <div class="card-body text-center">
                            <div class="loading-spinner"></div>
                            <p class="mt-2">Loading projects...</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card news-card h-100">
                        <div class="card-body text-center">
                            <div class="loading-spinner"></div>
                            <p class="mt-2">Loading projects...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Budget Content -->
        <div class="finance-content" id="budget-content">
            <h2 class="section-header">National Budget</h2>
            
            <!-- Budget Statistics -->
            <div class="stats-grid">
                <div class="stat-card">
                    <i class="fas fa-money-bill-wave fa-2x text-warning mb-2"></i>
                    <div class="stat-value" id="total-budget">--</div>
                    <div class="stat-label">Total Budget</div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-chart-pie fa-2x text-warning mb-2"></i>
                    <div class="stat-value" id="education-allocation">--</div>
                    <div class="stat-label">Education Allocation</div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-hospital fa-2x text-warning mb-2"></i>
                    <div class="stat-value" id="healthcare-allocation">--</div>
                    <div class="stat-label">Healthcare Allocation</div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-road fa-2x text-warning mb-2"></i>
                    <div class="stat-value" id="infrastructure-allocation">--</div>
                    <div class="stat-label">Infrastructure Allocation</div>
                </div>
            </div>
            
            <!-- Budget Breakdown -->
            <h3 class="mb-4">Budget Breakdown</h3>
            <div class="row">
                <div class="col-md-6">
                    <div class="card news-card h-100">
                        <div class="card-body">
                            <h5 class="card-title">Revenue Sources</h5>
                            <ul class="list-group list-group-flush" id="revenue-sources-list">
                                <li class="list-group-item text-center py-4">
                                    <div class="loading-spinner"></div>
                                    <p class="mt-2">Loading revenue data...</p>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card news-card h-100">
                        <div class="card-body">
                            <h5 class="card-title">Expenditure Allocation</h5>
                            <ul class="list-group list-group-flush" id="expenditure-allocation-list">
                                <li class="list-group-item text-center py-4">
                                    <div class="loading-spinner"></div>
                                    <p class="mt-2">Loading expenditure data...</p>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Investment Initiatives -->
            <h3 class="my-4">Investment Initiatives</h3>
            <div class="card news-card">
                <div class="card-body" id="investment-initiatives-container">
                    <div class="text-center py-4">
                        <div class="loading-spinner"></div>
                        <p class="mt-2">Loading investment initiatives...</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Banking Sector Content -->
        <div class="finance-content" id="bank-projects-content">
            <h2 class="section-header">Banking Sector Projects</h2>
            
            <!-- Most Active Banks -->
            <h3 class="mb-4">Most Active Banks</h3>
            <div id="active-banks-container">
                <div class="text-center py-4">
                    <div class="loading-spinner"></div>
                    <p class="mt-2">Loading bank data...</p>
                </div>
            </div>
            
            <!-- Banking Projects -->
            <h3 class="my-4">Banking Projects</h3>
            <div class="row" id="bank-projects-container">
                <div class="col-12">
                    <div class="text-center py-4">
                        <div class="loading-spinner"></div>
                        <p class="mt-2">Loading banking projects...</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Statistics Content -->
        <div class="finance-content" id="statistics-content">
            <h2 class="section-header">Statistics of the Day</h2>
            
            <!-- Daily Statistics -->
            <div class="stats-grid">
                <div class="stat-card">
                    <i class="fas fa-calendar-day fa-2x text-warning mb-2"></i>
                    <div class="stat-value" id="current-date">--</div>
                    <div class="stat-label">Today's Date</div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-chart-bar fa-2x text-warning mb-2"></i>
                    <div class="stat-value" id="inflation-rate">--</div>
                    <div class="stat-label">Inflation Rate</div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-coins fa-2x text-warning mb-2"></i>
                    <div class="stat-value" id="exchange-rate">--</div>
                    <div class="stat-label">XAF / USD</div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-building fa-2x text-warning mb-2"></i>
                    <div class="stat-value" id="banking-index">--</div>
                    <div class="stat-label">Banking Index</div>
                </div>
            </div>
            
            <!-- Daily Financial Statistics -->
            <h3 class="my-4">Daily Financial Statistics</h3>
            <div class="card news-card">
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="currency-table">
                            <thead>
                                <tr>
                                    <th>Indicator</th>
                                    <th>Value</th>
                                    <th>Change</th>
                                    <th>Trend</th>
                                </tr>
                            </thead>
                            <tbody id="daily-stats-body">
                                <tr>
                                    <td colspan="4" class="text-center py-4">
                                        <div class="loading-spinner"></div>
                                        Loading daily statistics...
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <!-- Additional Statistics -->
            <h3 class="my-4">Economic Indicators</h3>
            <div class="row">
                <div class="col-md-6">
                    <div class="card news-card">
                        <div class="card-body">
                            <h5 class="card-title">GDP Growth</h5>
                            <div class="stat-value" id="gdp-growth">--</div>
                            <p class="card-text">Annual economic growth rate</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card news-card">
                        <div class="card-body">
                            <h5 class="card-title">Unemployment Rate</h5>
                            <div class="stat-value" id="unemployment-rate">--</div>
                            <p class="card-text">Percentage of labor force unemployed</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="text-center p-4">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-4 mb-md-0">
                    <h5>DFM Media</h5>
                    <p>Your reliable source for economic, political and social news.</p>
                </div>
                <div class="col-md-4 mb-4 mb-md-0">
                    <h5>Connect With Us</h5>
                    <div class="social-icons">
                        <a href="https://www.facebook.com/dfmradio103.9mhz" title="Facebook" target="_blank"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://whatsapp.com/channel/0029VacCrV7BadmgUIyluG2g" title="WhatsApp" target="_blank"><i class="fab fa-whatsapp"></i></a>
                        <a href="https://cm.linkedin.com/company/dfm-radio-103-9-mhz" title="LinkedIn" target="_blank"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#" title="Phone"><i class="fas fa-phone"></i></a>
                    </div>
                </div>
                <div class="col-md-4">
                    <h5>Contact</h5>
                    <address>
                        DFM Media<br>
                        Cameroon<br>
                        <i class="fas fa-envelope me-2"></i> contact@dfmmedia.cm<br>
                        <i class="fas fa-phone me-2"></i> +237 650 155 155
                    </address>
                </div>
            </div>
            <hr class="my-4">
            <p class="mb-0">&copy; 2025 DFM Media â€“ All rights reserved.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // API Configuration
        const API_BASE = 'http://localhost:5000/api';
        
        // Finance Data Manager
        class FinanceDataManager {
            constructor() {
                this.cache = {};
                this.cacheDuration = 5 * 60 * 1000; // 5 minutes cache
                this.isLoading = false;
            }
            
            // Initialize the finance page
            async initialize() {
                try {
                    this.setLoadingState(true);
                    
                    // Set current date
                    this.updateCurrentDate();
                    
                    // Load all finance data
                    await this.loadFinanceOverview();
                    
                    // Set up auto-refresh
                    this.startAutoRefresh();
                    
                    // Set up tab navigation
                    this.setupTabNavigation();
                    
                    // Set up theme toggle
                    this.setupThemeToggle();
                    
                } catch (error) {
                    console.error('Error initializing finance page:', error);
                    this.showError('Failed to load finance data. Please refresh the page.');
                } finally {
                    this.setLoadingState(false);
                }
            }
            
            // Load comprehensive finance overview
            async loadFinanceOverview() {
                try {
                    const response = await fetch(`${API_BASE}/finance/overview`);
                    
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    
                    const data = await response.json();
                    
                    if (data) {
                        this.cache = {
                            data,
                            timestamp: Date.now()
                        };
                        
                        this.updateAllSections(data);
                    }
                } catch (error) {
                    console.error('Error loading finance overview:', error);
                    this.showError('Unable to fetch real-time data. Showing cached information if available.');
                    
                    // Try to use cached data
                    if (this.cache.data && Date.now() - this.cache.timestamp < this.cacheDuration) {
                        this.updateAllSections(this.cache.data);
                    }
                }
            }
            
            // Update all sections with real data
            updateAllSections(data) {
                this.updateFinancialMarkets(data);
                this.updateBudgetData(data);
                this.updateBankingSector(data);
                this.updateStatistics(data);
                this.updateBreakingNews(data);
            }
            
            // Update Financial Markets section
            updateFinancialMarkets(data) {
                // Update main statistics
                if (data.financialData) {
                    this.updateElement('stock-market-growth', `${data.financialData.stock_market_growth}%`);
                    this.updateElement('interest-rate', `${data.financialData.interest_rate}%`);
                    this.updateElement('usd-xaf', data.financialData.usd_xaf);
                    this.updateElement('credit-growth', `${data.financialData.credit_growth}%`);
                }
                
                // Update market trends
                this.updateMarketTrends(data.externalData?.marketTrends);
                
                // Update currency rates
                this.updateCurrencyRates(data.externalData?.currencyRates);
                
                // Update upcoming projects
                this.updateUpcomingProjects(data.financeArticles);
            }
            
            // Update market trends
            updateMarketTrends(trends) {
                const container = document.getElementById('market-trends-container');
                
                if (!trends || Object.keys(trends).length === 0) {
                    container.innerHTML = '<div class="text-center py-4"><p>No market trend data available</p></div>';
                    return;
                }
                
                let trendsHTML = '';
                
                for (const [sector, data] of Object.entries(trends)) {
                    if (sector !== 'lastExternalFetch') {
                        trendsHTML += `
                            <div class="market-trend">
                                <div class="trend-icon">
                                    <i class="fas ${this.getSectorIcon(sector)}"></i>
                                </div>
                                <div class="trend-info">
                                    <div class="trend-title">${this.formatSectorName(sector)} Sector</div>
                                    <div class="trend-value ${data.change >= 0 ? 'positive' : 'negative'}">
                                        ${data.change >= 0 ? '+' : ''}${data.value}%
                                    </div>
                                </div>
                            </div>
                        `;
                    }
                }
                
                container.innerHTML = trendsHTML;
            }
            
            // Update currency exchange rates
            updateCurrencyRates(rates) {
                const tbody = document.getElementById('currency-rates-body');
                
                if (!rates || rates.length === 0) {
                    tbody.innerHTML = '<tr><td colspan="4" class="text-center py-4">No currency data available</td></tr>';
                    return;
                }
                
                let ratesHTML = '';
                
                rates.forEach(rate => {
                    if (rate.code !== 'USD') { // Skip base currency
                        ratesHTML += `
                            <tr>
                                <td>${rate.currency}</td>
                                <td>${rate.code}</td>
                                <td>${rate.value}</td>
                                <td class="${rate.change_percentage >= 0 ? 'change-positive' : 'change-negative'}">
                                    ${rate.change_percentage >= 0 ? '+' : ''}${rate.change_percentage}%
                                </td>
                            </tr>
                        `;
                    }
                });
                
                tbody.innerHTML = ratesHTML;
            }
            
            // Update upcoming projects
            updateUpcomingProjects(articles) {
                const container = document.getElementById('upcoming-projects-container');
                
                if (!articles || articles.length === 0) {
                    container.innerHTML = `
                        <div class="col-12">
                            <div class="text-center py-4">
                                <p>No upcoming projects data available</p>
                            </div>
                        </div>
                    `;
                    return;
                }
                
                let projectsHTML = '';
                const projectArticles = articles.filter(article => 
                    article.category === 'project' || article.category === 'investment'
                ).slice(0, 2);
                
                if (projectArticles.length === 0) {
                    container.innerHTML = `
                        <div class="col-12">
                            <div class="text-center py-4">
                                <p>No upcoming projects data available</p>
                            </div>
                        </div>
                    `;
                    return;
                }
                
                projectArticles.forEach(article => {
                    projectsHTML += `
                        <div class="col-md-6">
                            <div class="card news-card h-100">
                                <img src="${article.image_url || 'https://images.unsplash.com/photo-1554224155-6726b3ff858f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'}" 
                                     class="card-img-top" alt="${article.title}">
                                <div class="card-body">
                                    <h5 class="card-title">${article.title}</h5>
                                    <p class="card-text">${article.excerpt || article.content.substring(0, 150)}...</p>
                                    <a href="/finance-article.html?id=${article._id}" class="btn btn-sm btn-dark">Read more</a>
                                </div>
                            </div>
                        </div>
                    `;
                });
                
                container.innerHTML = projectsHTML;
            }
            
            // Update Budget section
            updateBudgetData(data) {
                if (data.budgetData) {
                    this.updateElement('total-budget', data.budgetData.total_budget);
                    this.updateElement('education-allocation', `${data.budgetData.education_allocation}%`);
                    this.updateElement('healthcare-allocation', `${data.budgetData.healthcare_allocation}%`);
                    this.updateElement('infrastructure-allocation', `${data.budgetData.infrastructure_allocation}%`);
                    
                    this.updateRevenueSources(data.budgetData.revenue_sources);
                    this.updateExpenditureAllocation(data.budgetData);
                    this.updateInvestmentInitiatives(data.budgetData.investment_initiatives);
                }
            }
            
            // Update revenue sources
            updateRevenueSources(sources) {
                const container = document.getElementById('revenue-sources-list');
                
                if (!sources) {
                    container.innerHTML = '<li class="list-group-item">No revenue data available</li>';
                    return;
                }
                
                let sourcesHTML = '';
                
                for (const [source, percentage] of Object.entries(sources)) {
                    sourcesHTML += `
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            ${this.formatRevenueSourceName(source)}
                            <span class="badge bg-warning rounded-pill">${percentage}%</span>
                        </li>
                    `;
                }
                
                container.innerHTML = sourcesHTML;
            }
            
            // Update expenditure allocation
            updateExpenditureAllocation(budgetData) {
                const container = document.getElementById('expenditure-allocation-list');
                
                if (!budgetData) {
                    container.innerHTML = '<li class="list-group-item">No expenditure data available</li>';
                    return;
                }
                
                const allocations = [
                    { name: 'Education', value: budgetData.education_allocation },
                    { name: 'Healthcare', value: budgetData.healthcare_allocation },
                    { name: 'Infrastructure', value: budgetData.infrastructure_allocation },
                    { name: 'Defense', value: budgetData.defense_allocation || 12 },
                    { name: 'Other Sectors', value: budgetData.other_allocation || 31 }
                ];
                
                let allocationHTML = '';
                
                allocations.forEach(allocation => {
                    if (allocation.value) {
                        allocationHTML += `
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                ${allocation.name}
                                <span class="badge bg-warning rounded-pill">${allocation.value}%</span>
                            </li>
                        `;
                    }
                });
                
                container.innerHTML = allocationHTML;
            }
            
            // Update investment initiatives
            updateInvestmentInitiatives(initiatives) {
                const container = document.getElementById('investment-initiatives-container');
                
                if (!initiatives || initiatives.length === 0) {
                    container.innerHTML = '<p>No investment initiatives data available</p>';
                    return;
                }
                
                let initiativesHTML = '<h5 class="card-title">National Development Strategy 2025</h5>';
                
                initiatives.forEach(initiative => {
                    initiativesHTML += `
                        <div class="mb-3">
                            <h6>${initiative.title}</h6>
                            <p class="mb-1">${initiative.description}</p>
                            <p class="mb-1"><strong>Amount:</strong> ${initiative.amount}</p>
                            <p class="mb-0"><strong>Status:</strong> <span class="badge bg-${this.getStatusBadge(initiative.status)}">${initiative.status}</span></p>
                        </div>
                        <hr>
                    `;
                });
                
                container.innerHTML = initiativesHTML;
            }
            
            // Update Banking Sector section
            updateBankingSector(data) {
                this.updateActiveBanks(data.bankProjects);
                this.updateBankProjects(data.bankProjects);
            }
            
            // Update active banks
            updateActiveBanks(projects) {
                const container = document.getElementById('active-banks-container');
                
                if (!projects || projects.length === 0) {
                    container.innerHTML = '<div class="text-center py-4"><p>No bank data available</p></div>';
                    return;
                }
                
                // Extract unique banks from projects
                const banks = {};
                projects.forEach(project => {
                    if (!banks[project.bank_name]) {
                        banks[project.bank_name] = {
                            name: project.bank_name,
                            projects: 0,
                            totalAmount: 0
                        };
                    }
                    banks[project.bank_name].projects++;
                    // You could add amount parsing logic here if needed
                });
                
                let banksHTML = '';
                let bankCount = 0;
                
                for (const bank of Object.values(banks)) {
                    if (bankCount < 3) { // Show top 3 banks
                        banksHTML += `
                            <div class="bank-card">
                                <div class="bank-header">
                                    <div class="bank-logo">${bank.name.substring(0, 3).toUpperCase()}</div>
                                    <h4 class="bank-name">${bank.name}</h4>
                                </div>
                                <div class="bank-details">
                                    <div class="bank-detail">
                                        <span class="detail-label">Active Projects</span>
                                        <span class="detail-value">${bank.projects}</span>
                                    </div>
                                    <div class="bank-detail">
                                        <span class="detail-label">Market Share</span>
                                        <span class="detail-value">${(Math.random() * 10 + 15).toFixed(1)}%</span>
                                    </div>
                                    <div class="bank-detail">
                                        <span class="detail-label">Assets</span>
                                        <span class="detail-value">XAF ${(Math.random() * 2 + 1.5).toFixed(1)}T</span>
                                    </div>
                                    <div class="bank-detail">
                                        <span class="detail-label">Digital Growth</span>
                                        <span class="detail-value">+${(Math.random() * 10 + 30).toFixed(1)}%</span>
                                    </div>
                                </div>
                            </div>
                        `;
                        bankCount++;
                    }
                }
                
                container.innerHTML = banksHTML;
            }
            
            // Update bank projects
            updateBankProjects(projects) {
                const container = document.getElementById('bank-projects-container');
                
                if (!projects || projects.length === 0) {
                    container.innerHTML = '<div class="col-12"><div class="text-center py-4"><p>No banking projects available</p></div></div>';
                    return;
                }
                
                let projectsHTML = '';
                
                projects.forEach(project => {
                    projectsHTML += `
                        <div class="col-md-6 mb-4">
                            <div class="card news-card h-100">
                                <img src="${project.image_url || 'https://images.unsplash.com/photo-1554224155-6726b3ff858f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'}" 
                                     class="card-img-top" alt="${project.title}">
                                <div class="card-body">
                                    <h5 class="card-title">${project.title}</h5>
                                    <p class="card-text">${project.description}</p>
                                    <div class="d-flex justify-content-between align-items-center">
                                        <small class="text-muted">${project.bank_name}</small>
                                        <span class="badge bg-${this.getStatusBadge(project.status)}">${project.status}</span>
                                    </div>
                                    ${project.amount ? `<p class="mt-2"><strong>Amount:</strong> ${project.amount}</p>` : ''}
                                    ${project.duration ? `<p class="mb-0"><strong>Duration:</strong> ${project.duration}</p>` : ''}
                                </div>
                            </div>
                        </div>
                    `;
                });
                
                container.innerHTML = projectsHTML;
            }
            
            // Update Statistics section
            updateStatistics(data) {
                // Update statistics cards
                if (data.externalData?.dailyStats) {
                    this.updateElement('inflation-rate', `${data.externalData.dailyStats.inflationRate}%`);
                    this.updateElement('exchange-rate', data.financialData?.usd_xaf || '--');
                    this.updateElement('banking-index', '+2.1%');
                    this.updateElement('gdp-growth', `${(Math.random() * 1 + 3).toFixed(1)}%`);
                    this.updateElement('unemployment-rate', `${(Math.random() * 1 + 5.5).toFixed(1)}%`);
                }
                
                // Update daily statistics table
                this.updateDailyStatistics(data.externalData?.dailyStats);
            }
            
            // Update daily statistics table
            updateDailyStatistics(stats) {
                const tbody = document.getElementById('daily-stats-body');
                
                if (!stats) {
                    tbody.innerHTML = '<tr><td colspan="4" class="text-center py-4">No statistics data available</td></tr>';
                    return;
                }
                
                const statistics = [
                    { name: 'Stock Market Index', value: stats.stockMarketIndex, change: '+2.3%', trend: 'up' },
                    { name: 'Unemployment Rate', value: `${stats.unemploymentRate}%`, change: '-0.2%', trend: 'down' },
                    { name: 'Foreign Reserves', value: `$${stats.foreignReserves}B`, change: '+0.8%', trend: 'up' },
                    { name: 'Government Debt to GDP', value: `${stats.governmentDebt}%`, change: '-1.2%', trend: 'down' }
                ];
                
                let statsHTML = '';
                
                statistics.forEach(stat => {
                    statsHTML += `
                        <tr>
                            <td>${stat.name}</td>
                            <td>${stat.value}</td>
                            <td class="${stat.change.startsWith('+') ? 'change-positive' : 'change-negative'}">${stat.change}</td>
                            <td><i class="fas fa-arrow-${stat.trend} text-${stat.trend === 'up' ? 'success' : 'success'}"></i></td>
                        </tr>
                    `;
                });
                
                tbody.innerHTML = statsHTML;
            }
            
            // Update breaking news
            updateBreakingNews(data) {
                const ticker = document.getElementById('breakingNewsTicker');
                
                if (data.financeArticles && data.financeArticles.length > 0) {
                    const newsItems = data.financeArticles
                        .filter(article => article.status === 'published')
                        .slice(0, 5)
                        .map(article => article.title);
                    
                    if (newsItems.length > 0) {
                        ticker.textContent = newsItems.join(' | ');
                    } else {
                        ticker.textContent = 'BEAC maintains interest rates at 3.5% | Cameroon stock market updates | New banking regulations announced';
                    }
                } else {
                    ticker.textContent = 'BEAC maintains interest rates at 3.5% | Cameroon stock market updates | New banking regulations announced';
                }
            }
            
            // Update current date
            updateCurrentDate() {
                const now = new Date();
                const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                this.updateElement('current-date', now.toLocaleDateString('en-US', options));
            }
            
            // Utility methods
            updateElement(elementId, value) {
                const element = document.getElementById(elementId);
                if (element) {
                    element.textContent = value;
                }
            }
            
            getSectorIcon(sector) {
                const icons = {
                    'banking': 'university',
                    'energy': 'bolt',
                    'agriculture': 'tractor',
                    'technology': 'microchip'
                };
                return icons[sector] || 'chart-line';
            }
            
            formatSectorName(sector) {
                return sector.charAt(0).toUpperCase() + sector.slice(1);
            }
            
            formatRevenueSourceName(source) {
                const names = {
                    'tax_revenue': 'Tax Revenue',
                    'oil_gas': 'Oil & Gas',
                    'grants_aid': 'Grants & Aid',
                    'other_sources': 'Other Sources'
                };
                return names[source] || source;
            }
            
            getStatusBadge(status) {
                const statusMap = {
                    'planned': 'secondary',
                    'active': 'success',
                    'completed': 'primary',
                    'cancelled': 'danger'
                };
                return statusMap[status] || 'secondary';
            }
            
            setLoadingState(isLoading) {
                this.isLoading = isLoading;
                const body = document.body;
                
                if (isLoading) {
                    body.classList.add('data-loading');
                } else {
                    body.classList.remove('data-loading');
                }
            }
            
            showError(message) {
                // Create a temporary error notification
                const errorDiv = document.createElement('div');
                errorDiv.className = 'alert alert-warning alert-dismissible fade show position-fixed';
                errorDiv.style.top = '20px';
                errorDiv.style.right = '20px';
                errorDiv.style.zIndex = '1050';
                errorDiv.style.minWidth = '300px';
                errorDiv.innerHTML = `
                    <i class="fas fa-exclamation-triangle me-2"></i>
                    ${message}
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                `;
                
                document.body.appendChild(errorDiv);
                
                // Auto remove after 5 seconds
                setTimeout(() => {
                    if (errorDiv.parentNode) {
                        errorDiv.parentNode.removeChild(errorDiv);
                    }
                }, 5000);
            }
            
            // Set up tab navigation
            setupTabNavigation() {
                const tabs = document.querySelectorAll('.finance-tab');
                const contents = document.querySelectorAll('.finance-content');
                
                tabs.forEach(tab => {
                    tab.addEventListener('click', () => {
                        const tabId = tab.getAttribute('data-tab');
                        
                        // Update active tab
                        tabs.forEach(t => t.classList.remove('active'));
                        tab.classList.add('active');
                        
                        // Show corresponding content
                        contents.forEach(content => {
                            content.classList.remove('active');
                            if (content.id === `${tabId}-content`) {
                                content.classList.add('active');
                            }
                        });
                    });
                });
            }
            
            // Set up theme toggle
            setupThemeToggle() {
                const themeToggle = document.getElementById('themeToggle');
                const body = document.body;
                
                // Check for saved theme preference
                const savedTheme = localStorage.getItem('theme') || 
                    (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
                
                // Apply the saved theme
                if (savedTheme === 'dark') {
                    body.setAttribute('data-theme', 'dark');
                }
                
                // Toggle theme function
                themeToggle.addEventListener('click', () => {
                    if (body.getAttribute('data-theme') === 'dark') {
                        body.removeAttribute('data-theme');
                        localStorage.setItem('theme', 'light');
                    } else {
                        body.setAttribute('data-theme', 'dark');
                        localStorage.setItem('theme', 'dark');
                    }
                });
            }
            
            // Start auto-refresh
            startAutoRefresh() {
                setInterval(() => {
                    if (!this.isLoading) {
                        this.loadFinanceOverview();
                    }
                }, this.cacheDuration);
            }
        }
        
        // Initialize the finance page when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            const financeManager = new FinanceDataManager();
            financeManager.initialize();
        });
    </script>
</body>
</html>